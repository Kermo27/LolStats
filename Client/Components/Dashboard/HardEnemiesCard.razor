@using LolStatsTracker.Shared.DTOs
@using LolStatsTracker.Services.LeagueAssetsService

<MudPaper Class="rounded-xl glass-card" Elevation="0">
    <MudText Typo="Typo.h6" Class="mb-4" Color="Color.Error">Hard Enemy (Bot)</MudText>
    <MudList T="string" Dense="true" Padding="false">
        @foreach (var enemy in Enemies.Take(5))
        {
            <MudListItem>
                <div class="d-flex align-center justify-space-between w-100">
                    <div class="d-flex align-center gap-2">
                        <img src="@LeagueAssets.GetChampionIconUrl(enemy.ChampionName)" 
                             height="36" width="36" 
                             style="border-radius: 50%; border: 2px solid var(--mud-palette-error); object-fit: cover;" />
                        <MudText>@enemy.ChampionName</MudText>
                    </div>
                    <div class="text-right">
                        <MudText Typo="Typo.caption">Losses</MudText>
                        <MudText Color="Color.Error" Class="font-weight-bold">
                            @((100 - (enemy.WinrateAgainst * 100)).ToString("F0"))%
                        </MudText>
                    </div>
                </div>
            </MudListItem>
            <MudDivider Class="my-1"/>
        }
    </MudList>
</MudPaper>

@code {
    [Parameter, EditorRequired] public List<EnemyStatsDto> Enemies { get; set; } = new();
    [Inject] private ILeagueAssetsService LeagueAssets { get; set; } = null!;
}
