@using LolStatsTracker.Shared.DTOs
@using LolStatsTracker.Services.LeagueAssetsService

<MudPaper Class="rounded-xl stat-card d-flex flex-column gap-2 align-center justify-center text-center" Elevation="0" Height="100%">
    <span class="card-title">Overall WinRate</span>
    <div class="d-flex align-end gap-2 justify-center">
        <MudText Typo="Typo.h3" Color="@(Stats.Winrate * 100 >= 50 ? Color.Success : Color.Error)" Class="font-weight-bold">
            @((Stats.Winrate * 100).ToString("F1"))%
        </MudText>
        <MudText Typo="Typo.body1" Class="mb-1">WR</MudText>
    </div>
    <MudDivider Class="my-3 w-100" Style="opacity: 0.3" />
    <span class="card-title">Most Played</span>
    <div class="d-flex flex-column align-center gap-3">
        <img src="@LeagueAssets.GetChampionIconUrl(Stats.MostPlayedChampion)" 
             height="48" width="48" 
             style="border-radius: 50%; object-fit: cover;" />
        
        <div>
            <MudText Typo="Typo.h6">@Stats.MostPlayedChampion</MudText>
            <MudText Typo="Typo.caption">@Stats.MostPlayedChampionGames games</MudText>
        </div>
    </div>
</MudPaper>

@code {
    [Parameter, EditorRequired] public OverviewDto Stats { get; set; } = null!;
    [Inject] private ILeagueAssetsService LeagueAssets { get; set; } = null!;
}
