@using LolStatsTracker.Models

<h2 class="text-2xl font-bold text-white mt-8 mb-4">Champion Stats</h2>
<table class="w-full text-white border-collapse">
    <thead>
    <tr class="bg-gray-800">
        <th class="p-2 border border-gray-700">Champion</th>
        <th class="p-2 border border-gray-700">Games</th>
        <th class="p-2 border border-gray-700">Wins</th>
        <th class="p-2 border border-gray-700">WR %</th>
        <th class="p-2 border border-gray-700">Avg KDA</th>
        <th class="p-2 border border-gray-700">Avg CS/min</th>
    </tr>
    </thead>
    <tbody>
    @foreach (var s in Stats.OrderByDescending(s => s.Games))
    {
        <tr class="odd:bg-gray-900 hover:bg-gray-700 even:bg-gray-800">
            <td class="p-2 border border-gray-700">@s.Champion</td>
            <td class="p-2 border border-gray-700">@s.Games</td>
            <td class="p-2 border border-gray-700">@s.Wins</td>
            <td class="p-2 border border-gray-700"><span class="@GetWRColor(s.WinRate)">@s.WinRate</span></td>
            <td class="p-2 border border-gray-700">@s.AvgKda</td>
            <td class="p-2 border border-gray-700">@s.AvgCsm</td>
        </tr>
    }
    </tbody>
</table>

@code {
    [Parameter] public IEnumerable<MatchStats> Stats { get; set; } = Enumerable.Empty<MatchStats>();
    private string GetWRColor(double wr) =>
        wr >= 60 ? "text-green-400 font-bold"
        : wr <= 40 ? "text-red-500 font-bold"
        : "text-yellow-400 font-bold";
}