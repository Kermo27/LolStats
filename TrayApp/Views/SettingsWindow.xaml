<Window x:Class="LolStatsTracker.TrayApp.Views.SettingsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:vm="clr-namespace:LolStatsTracker.TrayApp.ViewModels"
        mc:Ignorable="d"
        d:DataContext="{d:DesignInstance vm:SettingsViewModel}"
        Title="LoL Stats Tracker - Settings" 
        Height="580" 
        Width="500"
        WindowStartupLocation="CenterScreen"
        ResizeMode="NoResize">
    
    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        
        <!-- API Base URL -->
        <StackPanel Grid.Row="0" Margin="0,0,0,15">
            <Label Content="API Base URL:" FontWeight="Bold"/>
            <TextBox Text="{Binding ServerUrl, UpdateSourceTrigger=PropertyChanged}" 
                     Height="30" 
                     VerticalContentAlignment="Center"
                     ToolTip="URL of your LolStatsTracker API (e.g., http://localhost:5031)"/>
        </StackPanel>
        
        <!-- Check Interval -->
        <StackPanel Grid.Row="1" Margin="0,0,0,15">
            <Label Content="Check Interval (seconds):" FontWeight="Bold"/>
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="100"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                <TextBox Grid.Column="0"
                         Text="{Binding CheckInterval, UpdateSourceTrigger=PropertyChanged}" 
                         Height="30" 
                         VerticalContentAlignment="Center"
                         ToolTip="How often to check for status updates (in seconds)"/>
                <TextBlock Grid.Column="1" 
                           VerticalAlignment="Center" 
                           Margin="10,0,0,0"
                           Foreground="Gray"
                           Text="Recommended: 10-30 seconds"/>
            </Grid>
        </StackPanel>
        
        <!-- Auto Start -->
        <StackPanel Grid.Row="2" Margin="0,0,0,15">
            <CheckBox Content="Start with Windows" 
                      IsChecked="{Binding AutoStartWithWindows}"
                      VerticalContentAlignment="Center"
                      ToolTip="Automatically start the app when Windows starts"/>
        </StackPanel>
        
        <!-- Riot API Settings -->
        <GroupBox Grid.Row="3" Header="Riot API (Optional)" Margin="0,0,0,15">
            <StackPanel Margin="10">
                <Label Content="API Key:" FontWeight="Bold"/>
                <TextBox Text="{Binding RiotApiKey, UpdateSourceTrigger=PropertyChanged}" 
                         Height="30" 
                         VerticalContentAlignment="Center"
                         ToolTip="Your Riot Games API Key (get one at developer.riotgames.com)"/>
                <TextBlock Margin="0,3,0,0">
                    <Hyperlink NavigateUri="https://developer.riotgames.com" RequestNavigate="Hyperlink_RequestNavigate">
                        Get your API key at developer.riotgames.com
                    </Hyperlink>
                </TextBlock>
                
                <Grid Margin="0,10,0,0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="150"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    <Label Grid.Column="0" Content="Region:" FontWeight="Bold" VerticalAlignment="Center"/>
                    <ComboBox Grid.Column="1" 
                              SelectedValue="{Binding RiotRegion}"
                              SelectedValuePath="Tag"
                              Height="30">
                        <ComboBoxItem Content="Europe West (EUW)" Tag="euw1"/>
                        <ComboBoxItem Content="Europe Nordic &amp; East (EUNE)" Tag="eun1"/>
                        <ComboBoxItem Content="North America (NA)" Tag="na1"/>
                        <ComboBoxItem Content="Korea (KR)" Tag="kr"/>
                        <ComboBoxItem Content="Japan (JP)" Tag="jp1"/>
                        <ComboBoxItem Content="Brazil (BR)" Tag="br1"/>
                        <ComboBoxItem Content="Latin America North" Tag="la1"/>
                        <ComboBoxItem Content="Latin America South" Tag="la2"/>
                        <ComboBoxItem Content="Oceania (OCE)" Tag="oc1"/>
                        <ComboBoxItem Content="Turkey (TR)" Tag="tr1"/>
                        <ComboBoxItem Content="Russia (RU)" Tag="ru"/>
                    </ComboBox>
                </Grid>
                
                <TextBlock Margin="0,5,0,0" FontSize="10" Foreground="Gray" TextWrapping="Wrap">
                    Riot API enables backfilling match history and syncing when LoL client is closed.
                </TextBlock>
            </StackPanel>
        </GroupBox>
        
        <!-- Info Panel -->
        <Border Grid.Row="4" 
                Background="#F0F0F0" 
                Padding="10" 
                CornerRadius="5"
                Margin="0,0,0,15">
             <StackPanel>
                <TextBlock TextWrapping="Wrap" FontSize="11">
                    <Run FontWeight="Bold">How it works:</Run>
                    <LineBreak/>
                    • LCU: Real-time stats when LoL client is running
                    <LineBreak/>
                    • Riot API: Backfill history &amp; sync when client is offline
                    <LineBreak/>
                    • All game modes are tracked (Ranked, ARAM, Arena, etc.)
                </TextBlock>
             </StackPanel>
        </Border>
        
        <!-- Buttons -->
        <StackPanel Grid.Row="5" 
                    Orientation="Horizontal" 
                    HorizontalAlignment="Right">
            <Button Content="Save" 
                    Command="{Binding SaveAsyncCommand}"
                    Width="100" 
                    Height="35" 
                    Margin="0,0,10,0"
                    IsDefault="True"/>
            <Button Content="Cancel" 
                    Command="{Binding CancelCommand}"
                    Width="100" 
                    Height="35"
                    IsCancel="True"/>
        </StackPanel>
    </Grid>
</Window>
